clear
clc
warning('off')

u = [5.5,0];

v = [9.5,1];

% Define the polygonal obstacles as a cell array of vertices
% obs = {
%         %[3, 1; 4, 1; 4, 2; 3, 2], ...
%         %[2,6; 4, 4; 7, 4; 9,6; 7, 8; 4, 8],...
%         [3,5; 8, 0; 7,5; 6, 10; 5, 6;4, 8;], ...
%         %[6, 6; 7, 6; 7, 9; 6, 9]
%     };

obs = {
        [3, 0.5; 4, 0.5; 4, 1.5; 3, 1.5], ...
        [8, 8; 12.5,8; 12.5,9; 8,9;],...
        [3,5; 8, 0; 7,5; 6, 10; 5, 6;4, 8;], ...
        [1, 1.5; 1, 2.5; 2, 2.5; 2, 1.5], ...
        
};
obs1 = [0, 0; 1.5,0; 1.5,1; 0,1;];
obs1_2_base = [0,0; 5,0; 5,0.6; 0,0.6;];
obs1_2 = obs1_2_base + [3,5.2];
obs2 = obs1 + [2,0];
obs3 = obs1 + [4,0];
obs4 = obs1 + [6,0];
obs5 = obs1 + [8,0];
obs6 = obs1 + [10,0];

obs7 = obs1 + [0,2];
obs8 = obs1 + [2,2];
obs9 = obs1 + [4,2];
obs10 = obs1 + [6,2];
obs11 = obs1 + [8,2];
obs12 = obs1 + [10,2];

obs13 = obs1 + [0,4];
obs14 = obs1 + [2,4];
obs15 = obs1 + [4,4];
obs16 = obs1 + [6,4];
obs17 = obs1 + [8,4];
obs18 = obs1 + [10,4];

obs19 = obs1 + [0,6];
obs20 = obs1 + [2,6];
obs21 = obs1 + [4,6];
obs22 = obs1 + [6,6];
obs23 = obs1 + [8,6];
obs24 = obs1 + [10,6];

obs25 = obs1 + [0,8];
obs26 = obs1 + [2,8];
obs27 = obs1 + [4,8];
obs28 = obs1 + [6,8];
obs29 = obs1 + [8,8];
obs30 = obs1 + [10,8];

obs = {

    obs4,...
    obs5,...
    %obs2,...
    %obs3,...
    % obs6,...
    % obs7,...
    % obs8,...
    % obs9,...
    % obs10,...
    % obs11,...
    % obs12,...
    % obs13,...
    % obs14,...
    % obs15,...
    % obs16,...
    % obs17,...
    % obs18,...
    % obs19,...
    % obs20,...
    % obs21,...
    % obs22,...
    % obs23,...
    % obs24,...
    % obs25,...
    % obs26,...
    % obs27,...
    % obs28,...
    % obs29,...
    % obs30,...
    % obs1_2,...
};

poly = lineIntersectionTest(obs, u, v);
poly{1}